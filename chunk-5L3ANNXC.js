import{a as L}from"./chunk-B5HERMYD.js";import{a as I}from"./chunk-ECDCSSJU.js";import{e as E}from"./chunk-NWWTS3XC.js";import{k as T,q as _}from"./chunk-4UPO2QOB.js";import{Ea as i,Gb as P,Ua as c,W as d,Wa as h,Y as x,bb as t,cb as r,db as a,hb as g,ia as p,ja as u,mb as o,na as w,nb as v,ob as f,pa as b,rb as y,tb as C,ub as k,vb as S}from"./chunk-2I6WSUOP.js";var D=l=>["/product",l],M=class l{product;isWishlisted=!1;index;wishlistToggle=new b;isPriorityImage=!1;cdr=d(P);destroyRef=d(w);cartService=d(I);ngOnInit(){this.isPriorityImage=this.index<4,this.cdr.markForCheck()}addToCart(n){n.stopPropagation(),this.cartService.addToCart(this.product._id).pipe(L(this.destroyRef)).subscribe()}onWishlistToggle(n){n.stopPropagation(),this.wishlistToggle.emit(this.product._id)}static \u0275fac=function(s){return new(s||l)};static \u0275cmp=x({type:l,selectors:[["app-product-card"]],inputs:{product:"product",isWishlisted:"isWishlisted",index:"index"},outputs:{wishlistToggle:"wishlistToggle"},standalone:!0,features:[y],decls:27,vars:21,consts:[[1,"group","relative","bg-white","rounded-2xl","border","border-slate-100","overflow-hidden","hover:shadow-xl","hover:shadow-primary/5","transition-all","duration-300","hover:-translate-y-1","h-full","flex","flex-col"],[1,"relative","aspect-[4/5]","overflow-hidden","bg-slate-50"],["width","400","height","500",1,"w-full","h-full","object-cover","object-center","transition-transform","duration-500","group-hover:scale-110",3,"ngSrc","alt","priority"],[1,"absolute","top-3","right-3","p-2","bg-white/80","backdrop-blur-sm","rounded-full","text-slate-400","hover:text-red-500","hover:bg-white","transition-all","shadow-sm","opacity-0","group-hover:opacity-100","translate-x-4","group-hover:translate-x-0","duration-300","z-10",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"absolute","bottom-3","left-3","px-2","py-1","bg-white/90","backdrop-blur-sm","rounded-md","text-xs","font-semibold","text-slate-600","shadow-sm"],[1,"p-5","flex-1","flex","flex-col"],[1,"block",3,"routerLink"],[1,"text-lg","font-bold","text-slate-800","mb-1","leading-tight","group-hover:text-primary","transition-colors","line-clamp-1",3,"title"],[1,"flex","items-center","space-x-1","mb-3"],["viewBox","0 0 20 20",1,"w-4","h-4","text-yellow-400","fill-current"],["d","M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"],[1,"text-sm","font-medium","text-slate-600"],[1,"flex","items-center","justify-between","mt-auto"],[1,"flex","flex-col"],[1,"text-xs","text-slate-400","font-medium"],[1,"text-xl","font-bold","text-slate-900"],["title","Add to Cart",1,"p-3","bg-slate-900","text-white","rounded-xl","shadow-lg","shadow-slate-900/20","hover:bg-primary","hover:shadow-primary/30","active:scale-95","transition-all","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1),a(2,"img",2),t(3,"button",3),g("click",function(m){return e.onWishlistToggle(m)}),p(),t(4,"svg",4),a(5,"path",5),r()(),u(),t(6,"span",6),o(7),r()(),t(8,"div",7)(9,"a",8)(10,"h3",9),o(11),r()(),t(12,"div",10),p(),t(13,"svg",11),a(14,"path",12),r(),u(),t(15,"span",13),o(16),r()(),t(17,"div",14)(18,"div",15)(19,"span",16),o(20,"Price"),r(),t(21,"span",17),o(22),k(23,"currency"),r()(),t(24,"button",18),g("click",function(m){return e.addToCart(m)}),p(),t(25,"svg",19),a(26,"path",20),r()()()()()),s&2&&(i(2),c("ngSrc",e.product.imageCover)("alt",e.product.title)("priority",e.isPriorityImage),i(),h("text-red-500",e.isWishlisted)("opacity-100",e.isWishlisted)("translate-x-0",e.isWishlisted),i(),h("fill-current",e.isWishlisted),i(3),f(" ",e.product.category.name," "),i(2),c("routerLink",C(19,D,e.product._id)),i(),c("title",e.product.title),i(),f(" ",e.product.title," "),i(5),v(e.product.ratingsAverage),i(6),v(S(23,17,e.product.price)))},dependencies:[T,E,_],changeDetection:0})};export{M as a};
