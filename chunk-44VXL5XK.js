import{a as g}from"./chunk-B5HERMYD.js";import{a as F}from"./chunk-SPD2RTNC.js";import{a as q}from"./chunk-ECDCSSJU.js";import{b as H,e as R}from"./chunk-NWWTS3XC.js";import{a as z}from"./chunk-CNYMMHYC.js";import{k as W,q as j}from"./chunk-4UPO2QOB.js";import{$a as P,Ea as a,Gb as I,Pa as w,Ua as _,W as d,Wa as k,Y as C,Za as b,_a as E,ab as L,bb as e,cb as i,db as s,eb as D,ga as h,ha as f,hb as v,ia as m,ib as c,ja as p,mb as n,na as y,nb as u,ob as S,rb as T,ub as V,vb as M}from"./chunk-2I6WSUOP.js";function G(o,r){o&1&&(e(0,"div",1),s(1,"div",2),e(2,"div",3),s(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),i()())}function A(o,r){if(o&1&&(e(0,"div",13),s(1,"img",48),i()),o&2){let t=r.$implicit;a(),_("ngSrc",t)}}function O(o,r){if(o&1){let t=D();e(0,"div",8)(1,"div",9)(2,"div",10),s(3,"img",11),i(),e(4,"div",12),P(5,A,2,1,"div",13,E),i()(),e(7,"div",14)(8,"nav",15)(9,"a",16),n(10,"Home"),i(),e(11,"span"),n(12,"/"),i(),e(13,"a",17),n(14,"Products"),i(),e(15,"span"),n(16,"/"),i(),e(17,"span",18),n(18),i()(),e(19,"h1",19),n(20),i(),e(21,"div",20)(22,"div",21),m(),e(23,"svg",22),s(24,"path",23),i(),n(25),i(),p(),e(26,"span",24),n(27,"|"),i(),e(28,"span",25),n(29),i(),e(30,"span",24),n(31,"|"),i(),e(32,"span",26),n(33,"In Stock"),i()(),e(34,"p",27),n(35),V(36,"currency"),i(),e(37,"div",28)(38,"p",29),n(39),i()(),e(40,"div",30)(41,"div",31)(42,"button",32),v("click",function(){h(t);let l=c(2);return f(l.quantity=l.quantity>1?l.quantity-1:1)}),n(43,"-"),i(),e(44,"span",33),n(45),i(),e(46,"button",34),v("click",function(){h(t);let l=c(2);return f(l.quantity=l.quantity+1)}),n(47,"+"),i()(),e(48,"button",35),v("click",function(){h(t);let l=c(2);return f(l.addToCart())}),m(),e(49,"svg",36),s(50,"path",37),i(),n(51," Add to Cart "),i(),p(),e(52,"button",38),v("click",function(){h(t);let l=c(2);return f(l.toggleWishlist())}),m(),e(53,"svg",39),s(54,"path",40),i()()(),p(),e(55,"div",41)(56,"div",42)(57,"div",43),m(),e(58,"svg",36),s(59,"path",44)(60,"path",45),i()(),p(),e(61,"span",46),n(62,"Free Shipping"),i()(),e(63,"div",42)(64,"div",43),m(),e(65,"svg",36),s(66,"path",47),i()(),p(),e(67,"span",46),n(68,"Secure Payment"),i()()()()()}if(o&2){let t=c(2);a(3),_("ngSrc",t.product.imageCover)("alt",t.product.title),a(2),L(t.product.images),a(13),u(t.product.category.name),a(2),u(t.product.title),a(5),S(" ",t.product.ratingsAverage," "),a(4),S("",t.product.ratingsQuantity," Reviews"),a(6),u(M(36,13,t.product.price)),a(4),u(t.product.description),a(6),u(t.quantity),a(8),k("fill-red-500",t.isWishlisted)("text-red-500",t.isWishlisted)}}function N(o,r){if(o&1&&w(0,O,69,15,"div",8),o&2){let t=c();b(t.product?0:-1)}}var B=class o{route=d(H);productService=d(z);cartService=d(q);wishlistService=d(F);cdr=d(I);destroyRef=d(y);product=null;isLoading=!0;quantity=1;isWishlisted=!1;ngOnInit(){this.route.params.pipe(g(this.destroyRef)).subscribe(r=>{let t=r.id;t&&this.loadProduct(t)}),this.wishlistService.wishlistList.pipe(g(this.destroyRef)).subscribe(r=>{this.product&&(this.isWishlisted=r.includes(this.product._id),this.cdr.markForCheck())})}loadProduct(r){this.isLoading=!0,this.productService.getProductById(r).pipe(g(this.destroyRef)).subscribe({next:t=>{this.product=t.data,this.isWishlisted=this.wishlistService.wishlistList.value.includes(this.product._id),this.isLoading=!1,this.cdr.markForCheck()},error:t=>{console.error(t),this.isLoading=!1,this.cdr.markForCheck()}})}addToCart(){this.product&&this.cartService.addToCart(this.product._id).subscribe({next:r=>{r.status}})}toggleWishlist(){this.product&&(this.isWishlisted?this.wishlistService.removeFromWishlist(this.product._id).subscribe():this.wishlistService.addToWishlist(this.product._id).subscribe())}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-product-details"]],standalone:!0,features:[T],decls:3,vars:1,consts:[[1,"container","mx-auto","px-6","py-10"],[1,"flex","flex-col","md:flex-row","gap-10","animate-pulse"],[1,"w-full","md:w-1/2","aspect-square","bg-slate-200","rounded-2xl"],[1,"w-full","md:w-1/2","space-y-4"],[1,"h-10","bg-slate-200","rounded","w-3/4"],[1,"h-6","bg-slate-200","rounded","w-1/2"],[1,"h-32","bg-slate-200","rounded"],[1,"h-12","bg-slate-200","rounded-xl","w-40"],[1,"flex","flex-col","md:flex-row","gap-10"],[1,"w-full","md:w-1/2"],[1,"bg-white","rounded-2xl","border","border-slate-100","overflow-hidden","shadow-sm"],["width","600","height","600","priority","",1,"w-full","h-full","object-cover",3,"ngSrc","alt"],[1,"flex","gap-4","mt-6","overflow-x-auto","pb-2"],[1,"w-24","h-24","flex-shrink-0","bg-white","rounded-xl","border","border-slate-100","overflow-hidden","cursor-pointer","hover:border-primary","transition-all"],[1,"w-full","md:w-1/2","flex","flex-col"],[1,"flex","text-sm","text-slate-500","mb-4","items-center","gap-2"],["routerLink","/",1,"hover:text-primary"],["routerLink","/products",1,"hover:text-primary"],[1,"text-slate-900","font-medium","truncate"],[1,"text-4xl","font-bold","text-slate-900","mb-2","leading-tight"],[1,"flex","items-center","gap-4","mb-6"],[1,"flex","items-center","text-yellow-500","font-bold"],["viewBox","0 0 20 20",1,"w-5","h-5","fill-current","mr-1"],["d","M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"],[1,"text-slate-400"],[1,"text-slate-500"],[1,"px-2","py-0.5","bg-green-100","text-green-700","text-xs","font-bold","rounded","uppercase"],[1,"text-3xl","font-bold","text-slate-900","mb-8"],[1,"prose","prose-slate","max-w-none","mb-10"],[1,"text-lg","text-slate-600","leading-relaxed"],[1,"flex","items-center","gap-4","mt-auto"],[1,"flex","items-center","border","border-slate-200","rounded-xl","overflow-hidden","h-14"],[1,"px-5","hover:bg-slate-50","transition-colors","border-r",3,"click"],[1,"px-6","font-bold","text-lg","min-w-[3rem]","text-center"],[1,"px-5","hover:bg-slate-50","transition-colors","border-l",3,"click"],[1,"flex-1","h-14","bg-primary","text-white","font-bold","rounded-xl","shadow-lg","shadow-primary/30","hover:bg-primary-dark","transition-all","transform","hover:scale-[1.02]","flex","items-center","justify-center","gap-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"h-14","w-14","flex","items-center","justify-center","border","border-slate-200","rounded-xl","hover:bg-slate-50","transition-all",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-7","w-7","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"mt-10","border-t","pt-10","grid","grid-cols-2","gap-6"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","rounded-full","bg-slate-100","flex","items-center","justify-center","text-primary"],["d","M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"],[1,"text-sm","font-semibold","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A3.323 3.323 0 0018.069 5.05a3.323 3.323 0 00-4.686-4.686 3.323 3.323 0 00-5.05 5.618 3.323 3.323 0 00-4.686 4.686 3.323 3.323 0 005.618 5.05 3.323 3.323 0 004.686 4.686 3.323 3.323 0 005.05-5.618 3.323 3.323 0 004.686-4.686z"],["width","96","height","96",1,"w-full","h-full","object-cover",3,"ngSrc"]],template:function(t,x){t&1&&(e(0,"div",0),w(1,G,7,0,"div",1)(2,N,1,1),i()),t&2&&(a(),b(x.isLoading?1:2))},dependencies:[W,R,j],changeDetection:0})};export{B as ProductDetailsComponent};
