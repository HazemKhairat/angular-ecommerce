import{a as $}from"./chunk-EKPBVDMA.js";import{a as T}from"./chunk-N2YIPYXF.js";import"./chunk-NWWTS3XC.js";import{i as w,j as D,k as H,q as P}from"./chunk-4UPO2QOB.js";import{$a as y,Ea as r,L as C,Pa as l,Ua as b,W as x,Xa as v,Y as S,Za as f,ab as _,bb as i,cb as o,db as h,ib as O,m as g,mb as a,nb as d,ob as m,rb as E,ub as p,vb as c,wb as I}from"./chunk-2I6WSUOP.js";var M=(t,n)=>n._id;function j(t,n){t&1&&(i(0,"div",3)(1,"p",5),a(2,"You have no orders yet."),o()())}function B(t,n){if(t&1&&(i(0,"div",16)(1,"div",17),h(2,"img",18),i(3,"div")(4,"h4",19),a(5),o(),i(6,"p",20),a(7),o()()(),i(8,"p",21),a(9),p(10,"currency"),o()()),t&2){let e=n.$implicit,s=n.$index;r(2),b("ngSrc",e.product.imageCover)("alt",e.product.title)("priority",s<4),r(3),d(e.product.title),r(2),m("Qty: ",e.count,""),r(2),d(c(10,6,e.price))}}function A(t,n){if(t&1&&(i(0,"div",6)(1,"div",7)(2,"div")(3,"p",8),a(4,"Order ID: "),i(5,"span",9),a(6),o()(),i(7,"p",8),a(8,"Placed on: "),i(9,"span",10),a(10),p(11,"date"),o()()(),i(12,"div",11)(13,"p",12),a(14),p(15,"currency"),o(),i(16,"span",13),a(17),o(),i(18,"span",14),a(19),o()()(),i(20,"div",15),y(21,B,11,8,"div",16,M),o()()),t&2){let e=n.$implicit;r(6),d(e._id),r(4),d(I(11,9,e.createdAt,"medium")),r(4),d(c(15,12,e.totalOrderPrice)),r(2),v(e.isPaid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),r(),m(" ",e.isPaid?"Paid":"Unpaid"," "),r(),v(e.isDelivered?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),r(),m(" ",e.isDelivered?"Delivered":"Processing"," "),r(2),_(e.cartItems)}}function N(t,n){if(t&1&&(i(0,"div",4),y(1,A,23,14,"div",6,M),o()),t&2){let e=O();r(),_(e)}}function U(t,n){t&1&&l(0,j,3,0,"div",3)(1,N,3,0,"div",4),t&2&&f(n.length===0?0:1)}function k(t,n){t&1&&(i(0,"div",2)(1,"p"),a(2,"Loading orders..."),o()())}var F=class t{orderService=x($);authService=x(T);orders$=this.authService.userData.pipe(C(n=>n?this.orderService.getUserOrders(n._id):g([])));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-order-history"]],standalone:!0,features:[E],decls:6,vars:3,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","mb-8"],[1,"text-center","py-10"],[1,"text-center","py-10","border","rounded","bg-gray-50"],[1,"space-y-6"],[1,"text-gray-600","text-lg"],[1,"border","rounded-lg","p-6","shadow-sm","bg-white"],[1,"flex","flex-col","md:flex-row","justify-between","mb-4","border-b","pb-4"],[1,"text-sm","text-gray-500"],[1,"text-gray-900","font-mono"],[1,"text-gray-900"],[1,"mt-2","md:mt-0","text-right"],[1,"font-bold","text-lg","text-primary"],[1,"px-2","py-1","rounded","text-xs","font-semibold","uppercase","mr-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold","uppercase"],[1,"space-y-2"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["width","48","height","48",1,"w-12","h-12","object-cover","rounded","mr-4",3,"ngSrc","alt","priority"],[1,"font-medium","text-sm"],[1,"text-xs","text-gray-500"],[1,"text-sm","font-semibold"]],template:function(e,s){if(e&1&&(i(0,"div",0)(1,"h1",1),a(2,"Order History"),o(),l(3,U,2,1),p(4,"async"),l(5,k,3,0,"div",2),o()),e&2){let u;r(3),f((u=c(4,1,s.orders$))?3:5,u)}},dependencies:[H,D,P,w],changeDetection:0})};export{F as OrderHistoryComponent};
