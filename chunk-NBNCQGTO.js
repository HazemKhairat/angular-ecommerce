import{a as D}from"./chunk-A3XTQVIB.js";import{a as x,b as n,c as C,d as w,g as S,j as A,k as F,o as N,p as E}from"./chunk-RPPOXTPC.js";import{a as v}from"./chunk-B5HERMYD.js";import{d as y}from"./chunk-NWWTS3XC.js";import"./chunk-4UPO2QOB.js";import{Ea as s,Gb as h,Ua as m,W as r,Y as u,bb as t,cb as e,db as i,hb as c,mb as o,na as f,ob as g,rb as b}from"./chunk-2I6WSUOP.js";var k=class p{fb=r(N);addressService=r(D);router=r(y);cdr=r(h);destroyRef=r(f);addressForm=this.fb.group({alias:["",n.required],details:["",n.required],phone:["",[n.required,n.pattern(/^01[0125][0-9]{8}$/)]],city:["",n.required],postalCode:[""]});isLoading=!1;onSubmit(){this.addressForm.valid&&(this.isLoading=!0,this.addressService.addAddress(this.addressForm.value).pipe(v(this.destroyRef)).subscribe({next:()=>{this.isLoading=!1,this.cdr.markForCheck(),this.router.navigate(["/address"])},error:l=>{this.isLoading=!1,this.cdr.markForCheck(),console.error(l),alert("Failed to add address")}}))}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=u({type:p,selectors:[["app-add-address"]],standalone:!0,features:[b],decls:26,vars:3,consts:[[1,"container","mx-auto","px-4","py-8","max-w-lg"],[1,"text-2xl","font-bold","mb-6"],[1,"bg-white","shadow","p-6","rounded-lg",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-gray-700","text-sm","font-bold","mb-2"],["formControlName","alias","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["formControlName","details","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["formControlName","phone","type","tel",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["formControlName","city","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"mb-6"],["formControlName","postalCode","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["type","submit",1,"bg-blue-600","text-white","font-bold","py-2","px-4","rounded","w-full","hover:bg-blue-700","disabled:bg-gray-400",3,"disabled"]],template:function(a,d){a&1&&(t(0,"div",0)(1,"h1",1),o(2,"Add New Address"),e(),t(3,"form",2),c("ngSubmit",function(){return d.onSubmit()}),t(4,"div",3)(5,"label",4),o(6,"Alias (e.g., Home, Work)"),e(),i(7,"input",5),e(),t(8,"div",3)(9,"label",4),o(10,"Detailed Address"),e(),i(11,"input",6),e(),t(12,"div",3)(13,"label",4),o(14,"Phone"),e(),i(15,"input",7),e(),t(16,"div",3)(17,"label",4),o(18,"City"),e(),i(19,"input",8),e(),t(20,"div",9)(21,"label",4),o(22,"Postal Code"),e(),i(23,"input",10),e(),t(24,"button",11),o(25),e()()()),a&2&&(s(3),m("formGroup",d.addressForm),s(21),m("disabled",d.addressForm.invalid||d.isLoading),s(),g(" ",d.isLoading?"Saving...":"Save Address"," "))},dependencies:[E,S,x,C,w,A,F],changeDetection:0})};export{k as AddAddressComponent};
