import{a as m}from"./chunk-B5HERMYD.js";import{a as j}from"./chunk-ECDCSSJU.js";import{e as R}from"./chunk-NWWTS3XC.js";import{k as L,q as M}from"./chunk-4UPO2QOB.js";import{$a as I,Ea as a,Gb as D,Pa as k,Ua as S,W as u,Y as w,Za as E,ab as P,bb as e,cb as t,db as p,eb as T,ga as x,ha as g,hb as v,ia as f,ib as h,ja as C,mb as n,na as y,nb as d,rb as V,ub as b,vb as _}from"./chunk-2I6WSUOP.js";var $=(o,r)=>r.product._id;function B(o,r){if(o&1){let i=T();e(0,"div",5)(1,"div",14),p(2,"img",15),t(),e(3,"div",16)(4,"h3",17),n(5),t(),e(6,"p",18),n(7),t(),e(8,"p",19),n(9),b(10,"currency"),t()(),e(11,"div",20)(12,"button",21),v("click",function(){let l=x(i).$implicit,s=h(2);return g(s.updateCount(l.product._id,l.count-1))}),f(),e(13,"svg",22),p(14,"path",23),t()(),C(),e(15,"span",24),n(16),t(),e(17,"button",25),v("click",function(){let l=x(i).$implicit,s=h(2);return g(s.updateCount(l.product._id,l.count+1))}),f(),e(18,"svg",22),p(19,"path",26),t()()(),C(),e(20,"button",27),v("click",function(){let l=x(i).$implicit,s=h(2);return g(s.removeItem(l.product._id))}),f(),e(21,"svg",28),p(22,"path",29),t()()()}if(o&2){let i=r.$implicit,c=r.$index;a(2),S("ngSrc",i.product.imageCover)("priority",c<4),a(3),d(i.product.title),a(2),d(i.product.category.name),a(2),d(_(10,7,i.price)),a(3),S("disabled",i.count<=1),a(4),d(i.count)}}function H(o,r){if(o&1&&(e(0,"div",2)(1,"div",4),I(2,B,23,9,"div",5,$),t(),e(4,"div",6)(5,"div",7)(6,"h2",8),n(7,"Order Summary"),t(),e(8,"div",9)(9,"div",10)(10,"span"),n(11,"Subtotal"),t(),e(12,"span"),n(13),b(14,"currency"),t()(),e(15,"div",10)(16,"span"),n(17,"Shipping"),t(),e(18,"span",11),n(19,"Free"),t()(),e(20,"div",12)(21,"span"),n(22,"Total"),t(),e(23,"span"),n(24),b(25,"currency"),t()()(),e(26,"a",13),n(27," Proceed to Checkout "),t()()()()),o&2){let i=r;a(2),P(i.products),a(11),d(_(14,2,i.totalCartPrice)),a(11),d(_(25,4,i.totalCartPrice))}}function O(o,r){o&1&&(e(0,"div",3)(1,"h2",30),n(2,"Your cart is empty"),t(),e(3,"p",31),n(4,"Looks like you haven't added anything yet."),t(),e(5,"a",32),n(6,"Start Shopping"),t()())}var F=class o{cartService=u(j);cdr=u(D);destroyRef=u(y);loader=this.cartService.getLoggedUserCart().pipe(m(this.destroyRef)).subscribe();ngOnInit(){this.cartService.getLoggedUserCart().pipe(m(this.destroyRef)).subscribe({error:r=>console.log(r)})}updateCount(r,i){i>0&&this.cartService.updateCartItemQuantity(r,i).pipe(m(this.destroyRef)).subscribe()}removeItem(r){this.cartService.removeCartItem(r).pipe(m(this.destroyRef)).subscribe()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=w({type:o,selectors:[["app-cart-page"]],standalone:!0,features:[V],decls:5,vars:1,consts:[[1,"container","mx-auto","px-6","py-10"],[1,"text-3xl","font-bold","text-slate-900","mb-8"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"text-center","py-20","bg-white","rounded-3xl","border","border-slate-100"],[1,"flex-1","space-y-6"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-100","shadow-sm","flex","items-center","gap-6"],[1,"w-full","lg:w-96"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-100","shadow-lg","sticky","top-24"],[1,"text-xl","font-bold","text-slate-800","mb-6"],[1,"space-y-3","mb-6"],[1,"flex","justify-between","text-slate-600"],[1,"text-green-600","font-medium"],[1,"border-t","border-slate-100","pt-3","flex","justify-between","font-bold","text-lg","text-slate-900"],["routerLink","/checkout",1,"block","w-full","py-4","bg-primary","text-white","text-center","font-bold","rounded-xl","shadow-lg","shadow-primary/30","hover:bg-primary-dark","transition-all","transform","hover:scale-[1.02]"],[1,"w-24","h-24","bg-slate-50","rounded-xl","overflow-hidden","flex-shrink-0"],["width","96","height","96",1,"w-full","h-full","object-cover",3,"ngSrc","priority"],[1,"flex-1"],[1,"text-lg","font-bold","text-slate-800","mb-1"],[1,"text-slate-500","text-sm"],[1,"text-primary","font-bold","mt-2"],[1,"flex","items-center","space-x-3","bg-slate-50","rounded-lg","p-1"],[1,"p-2","text-slate-600","hover:text-red-500","transition-colors",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],[1,"font-medium","w-6","text-center"],[1,"p-2","text-slate-600","hover:text-green-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"p-2","text-slate-400","hover:text-red-500","transition-colors","rounded-full","hover:bg-red-50",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-2xl","font-bold","text-slate-800","mb-2"],[1,"text-slate-500","mb-6"],["routerLink","/products",1,"inline-block","px-8","py-3","bg-primary","text-white","font-semibold","rounded-full","hover:bg-primary-dark","transition-colors"]],template:function(i,c){if(i&1&&(e(0,"div",0)(1,"h1",1),n(2,"Shopping Cart"),t(),k(3,H,28,6,"div",2)(4,O,7,0,"div",3),t()),i&2){let l;a(3),E((l=c.cartService.cartData())?3:4,l)}},dependencies:[L,R,M],changeDetection:0})};export{F as CartPageComponent};
